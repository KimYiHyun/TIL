# ì£¼ìš” ë¼ì´ë¸ŒëŸ¬ë¦¬

## 01. Pandas

â“ **Pandasë€?**
- ë°ì´í„° ë¶„ì„ì„ ìœ„í•œ íŒ¨í‚¤ì§€
- íŒŒì¼(or url)ë¡œë¶€í„° í‘œë¡œ ë‚˜íƒ€ë‚¸ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ”ë° ê°€ì¥ ì ‘ê·¼í•˜ê¸° ì‰½ê³  ê±°ì˜ ì™„ë²½í•œ ê¸°ëŠ¥ì„ ì œê³µ
- ì‹œë¦¬ì¦ˆ(Series), ë°ì´í„°í”„ë ˆì„(DataFrame) ì´ë¼ëŠ” êµ¬ì¡°ë¥¼ ì‚¬ìš©í•´ ì„œë¡œ ë‹¤ë¥¸ í˜•íƒœ ë° ì‹œê³„ì—´ ë°ì´í„°ì˜ ë³µì¡í•œ í…Œì´ë¸”ì„ ë‹¤ë£° ìˆ˜ ìˆê²Œ í•´ì¤Œ
- ë°ì´í„°í•¸ë“¤ë§(ìë¥´ê¸°, ë¹ ì§„ ìš”ì†Œ ì‚­ì œ/ì¶”ê°€í•˜ê¸°, ëª…ì¹­ë³€ê²½, í•©ì¹˜ê¸° ë“±)ê³¼ ì‹œê°í™”ì— í¸ë¦¬
- ê´€í–‰ì ìœ¼ë¡œ pdë¡œ ë¶ˆëŸ¬ì˜´

```python
import pandas as pd
```
</br>

ğŸ‘‰ğŸ» **ì‹œë¦¬ì¦ˆ(Series)**
- Pandasì˜ ê¸°ë³¸ ê°ì²´ ì¤‘ í•˜ë‚˜
- Numpyì˜ ndarrayë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì¸ë±ì‹± ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ì—¬ 1ì°¨ì› ë°°ì—´ì„ ë‚˜íƒ€ëƒ„
    - indexì™€ valueê°€ ì¡´ì¬
- ê°™ì€ íƒ€ì…ì˜ 0ê°œ ì´ìƒì˜ ë°ì´í„°ë¥¼ ê°€ì§ˆ ìˆ˜ ìˆìŒ

```python
s1 = pd.Series([1, 2, 3])
# 0  1
# 1  2
# 2  3
```

```python
import numpy as np
import pandas as pd

s2 = pd.Series(np.arange(200))
```

![image](https://user-images.githubusercontent.com/56059126/179360772-4ace276f-18d6-410e-ac47-e18383a070a1.png)

```python
s1 = pd.Series([1, 2, 3], [100, 200, 300])
fruit = pd.Series([2500, 3800, 1200],
									index = ['apple', 'banana', 'lemon'])
```

```python
fruit.index # index(['apple', 'banana', 'lemon'], dtype='object')
fruit.values # array([2500, 3800, 1200], dtype=int64)
```

```python
s = pd.Series([1, 0, 3, 1, 0, 2, 5, 4, 3, np.NaN])
```

![image](https://user-images.githubusercontent.com/56059126/179360783-5b910442-41d1-405b-b5f4-3053d1f5247b.png)

```python
s.size   #ê°œìˆ˜ ë°˜í™˜
s.shape  #íŠœí”Œí˜•íƒœë¡œ shape ë°˜í™˜
s.unique()  #ìœ ì¼í•œ ê°’ë§Œ ndarrayë¡œ ë°˜í™˜
s.count()  #NaNì„ ì œì™¸í•œ ê°œìˆ˜ë¥¼ ë°˜í™˜
s.mean()  #NaNì„ ì œì™¸í•œ í‰ê· 
s.value_counts()  #NaNì„ ì œì™¸í•˜ê³  ê° ê°’ë“¤ì˜ ë¹ˆë„ë¥¼ ë°˜í™˜
s.head()  #ìƒìœ„ nê°œ ê°’ ì¶œë ¥. ê¸°ë³¸ê°’ì€ 5ê°œ
s.tail()  #í•˜ìœ„ nê°œ ê°’ ì¶œë ¥. ê¸°ë³¸ê°’ì€ 5ê°œ
```

- indexë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì—°ì‚°, indexê°€ ë§ì§€ ì•Šìœ¼ë©´ í•´ë‹¹ indexì˜ ê²°ê³¼ëŠ” NaN

```python
s1 = pd.Series([1, 2, 3, 4, 5], ['a', 'b', 'c', 'd', 'x'])
s2 = pd.Series([9, 6, 3, 2, 1], ['d', 'c', 'b', 'a', 'y'])

s1 * 2
s1 + s2
```

![image](https://user-images.githubusercontent.com/56059126/179360799-e18700e0-2647-4824-88f6-0da588e0c82b.png)

- Series ì¸ë±ì‹± ì‹œ, []ë¥¼ ì‚¬ìš©í•˜ë©´ bool ë¦¬ìŠ¤íŠ¸ê°€ Trueì¸ ê²½ìš°ë§Œ í•„í„°ë§

```python
s = pd.Series([1, 0, 3, 1, 0, 2, 5, 4, 3, np.NaN])
s
```

![image](https://user-images.githubusercontent.com/56059126/179360817-c443e5d7-36f0-4514-b7f4-bb5a2106dfd3.png)

```python
s[s > 3]
s[s.index > 5]
s[(s>3) & (s<5)]
(s>=3).sum()   # 4
(s[s>=3]).sum()  # 15
```

![image](https://user-images.githubusercontent.com/56059126/179360856-94cff416-a8b5-4656-b00a-3194b71a1960.png)

- Series ë³€ê²½ê³¼ ìŠ¬ë¼ì´ì‹±

```python
import numpy as np
import pandas as pd

s = pd.Series(np.arange(10, 20, 2), ['a', 'b', 'c', 'd', 'e'])
```

![image](https://user-images.githubusercontent.com/56059126/179360867-1e9256d7-c890-4921-8c42-33d045b8c37a.png)

- ë°ì´í„° ë³€ê²½
    - ì¶”ê°€, ì—…ë°ì´íŠ¸ : index ì´ìš©
    - ì‚­ì œ : drop()
- ë°ì´í„° ìŠ¬ë¼ì´ì‹±

```python
s[1:3]
s['c':'d']
```

![image](https://user-images.githubusercontent.com/56059126/179360873-d61d8003-cad1-4c9f-947a-c4fa26b7b80d.png)
</br></br>

ğŸ‘‰ğŸ» **ë°ì´í„°í”„ë ˆì„(DataFrame)**
- Seriesì™€ ê°™ì€ ì¼ë ¨ì˜ ê°ì²´ë¥¼ í•˜ë‚˜ì˜ ì¹¼ëŸ¼ì´ë‚˜ ì—¬ëŸ¬ ê°œì˜ ì¹¼ëŸ¼ìœ¼ë¡œ êµ¬ì„±í•˜ëŠ” ë°ì´í„° êµ¬ì¡°
    - 2ì°¨ì›ìœ¼ë¡œ í™•ëŒ€ëœ ë²„ì „
    - ì—‘ì…€ê³¼ ê°™ì´ ìˆ«ì, ë¬¸ì ë“± ë‹¤ì–‘í•œ ë°ì´í„°ë¥¼ í•˜ë‚˜ì˜ í‘œì— ë‹´ì„ ìˆ˜ ìˆëŠ” ìë£Œ êµ¬ì¡°
- rowì™€ columnìœ¼ë¡œ êµ¬ì„±
    - row - ê° ê°œë³„ ë°ì´í„°, column - ê°œë³„ ì†ì„±ì„ ì˜ë¯¸
    - ê° ì—´ì€ ì„œë¡œ ë‹¤ë¥¸ ìë£Œí˜•ì´ ë  ìˆ˜ ìˆê³  ì—´ì´ë¦„, í–‰ì´ë¦„ì„ ê°€ì§
- Data Analysis, Machine Learningì—ì„œ data ë³€í˜•ì„ ìœ„í•´ ê°€ì¥ ë§ì´ ì‚¬ìš© ë¨
</br>

### DataFrame ìƒì„±

- dictionaryë¡œ ìƒì„±

```python
fruit = {'name': ['apple', 'banana', 'lemon'],
         'price': [2500, 3800, 1200],
         'num': [5, 3, 10]}
print(fruit)
#{'name': ['apple', 'banana', 'lemon'], 'price': [2500, 3800, 1200], 'num': [5, 3, 10]}

df_fruit = pd.DataFrame(fruit)
print(df_fruit)
df_fruit
```

![image](https://user-images.githubusercontent.com/56059126/179360904-5543915c-cf51-4870-b8c1-100bd93fe7b7.png)

- Seriesë¡œ ìƒì„±

```python
s1 = pd.Series([10, 20, 30], ['a', 'b', 'd'])
s2 = pd.Series([11, 21, 31], ['a', 'b', 'k'])
s3 = pd.Series([12, 22, 32], ['a', 'b', 'c'])

pd.DataFrame([s1, s2, s3], index=[1, 2, 3])
```

![image](https://user-images.githubusercontent.com/56059126/179360909-59b96c1c-d83c-41a1-a010-2031bab53c9b.png)

- csv íŒŒì¼ë¡œ ìƒì„±
    - ë°ì´í„° ë¶„ì„ì„ ìœ„í•´ dataframeì„ ìƒì„±í•˜ëŠ” ê°€ì¥ ì¼ë°˜ì ì¸ ë°©ë²•
    - read_csv() í•¨ìˆ˜ ì‚¬ìš©
        - sep : ê° ë°ì´í„° ê°’ì„ êµ¬ë³„í•˜ê¸° ìœ„í•œ êµ¬ë¶„ì
        - header : headerë¥¼ ë¬´ì‹œí•  ê²½ìš°, None ì„¤ì •
        - index_col : indexë¡œ ì‚¬ìš©í•  column ì„¤ì •
        - usecols : ì‹¤ì œë¡œ dataframeì— ë¡œë”©í•  columnsë§Œ ì„¤ì •

```python
redwine = pd.read_csv('wine_red.csv', sep=';')
```
</br>

### DataFrame êµ¬ì¡°

- head(), tail() : ë°ì´í„°ì˜ ì¼ë¶€(ì²˜ìŒë¶€í„°, ë§ˆì§€ë§‰ 5ê°œ)ë¥¼ ë³´ê¸° ìœ„í•œ í•¨ìˆ˜
- index ì†ì„±  - train.index
- columns ì†ì„± - train.columns
- shape ì†ì„± - train.shape
- info() í•¨ìˆ˜ - ë°ì´í„°ì˜ ì¹¼ëŸ¼ë³„ íƒ€ì…, ê°œìˆ˜ ë“± ì •ë³´ í™•ì¸
- describe() í•¨ìˆ˜ - ìˆ«ìí˜• ë°ì´í„°ì˜ ê¸°ë³¸ í†µê³„ê°’ í™•ì¸
</br>

### DataFrame ì›í•˜ëŠ” ë°ì´í„°ë§Œ ì¶”ì¶œ

- columnë§Œ ì„ íƒ

```python
train['Survived']
train[['Survived', 'Name', 'Sex', 'Age']]
```

- rowë§Œ ì„ íƒ
    - loc : ì¸ë±ìŠ¤ ìì²´ë¥´ ì‚¬ìš©í•´ ì„ íƒ ê°€ëŠ¥
    - iloc : 0 based indexë¥¼ ì‚¬ìš©í•´ ì„ íƒ
    - ,ë¥¼ ì‚¬ìš©í•˜ì—¬ column ì„ íƒë„ ê°€ëŠ¥

```python
train[50:55]
train.loc[[300, 400, 500, 600]]
train.loc[[300, 400, 500, 600], ['Survived', 'Name', 'Sex', 'Age']]
train.iloc[[300, 400, 500, 600]]
train.iloc[[300, 400, 500, 600], ['Survived', 'Name', 'Sex', 'Age']]  #ë¬¸ìê°€ ë“¤ì–´ê°ˆ ìˆ˜ ì—†ìŒ.
```

- ë…¼ë¦¬ê°’ì„ ì´ìš©í•œ ì„ íƒ

```python
cls = train['Pclass'] == 1
age = (train['Age'] >= 20) &(train['Age'] < 30)

train[cls & age]
```
</br>

### DataFrame column ì¶”ê°€/ì‚­ì œ

- column ì¶”ê°€
    - [ ]ë¥¼ ì‚¬ìš©í•˜ì—¬ ì¶”ê°€
    - insert í•¨ìˆ˜ ì‚¬ìš©

```python
train['Age_new'] = train['Age'] / 10
train.insert(3, 'Fare_new', train['Fare'] * 10)
```

- column ì‚­ì œ
    - dop í•¨ìˆ˜ ì‚¬ìš©
    - ë¦¬ìŠ¤íŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ì—¬ëŸ¬ê°œì˜ column ì‚­ì œ ê°€ëŠ¥

```python
train.drop('Age_new', axis=1)
train.drop('Age_new', axis=1, inplace=True)
train.drop(['Fare_new', 'Parch'], axis=1, inplace=True)
```
